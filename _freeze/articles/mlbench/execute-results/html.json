{
  "hash": "cf547e671f741ed1c67784675ec9e5a1",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"mlbench\"\nauthor: \"データサイエンス関連基礎調査WG\"\ndate: \"2025-08-01\"\n#format: docx\nformat: html\nlang: ja\noutput:\n  word_document:\n    toc: yes\n    toc_depth: '3'\n    fig_width: 6\n    fig_height: 3\n---\n\n\n\n\n\n\n## パッケージの概要\n\nmlbenchには、機械学習モデルの性能を比較・評価するベンチマーク課題用のデータセット、およびデータを生成するための関数が用意されています。\n\nデータセットは、例えばBostonHousing等の有名なデータセットや、UCIリポジトリ\\[1\\] (カリフォルニア大学アーバイン校が公開している機械学習データセットリポジトリ)の一部のデータセット等が含まれています。\\\nまた、ベンチマーク課題用のテストデータを生成する関数には、例えば複数クラスの2次元正規分布を生成するmlbench.2dnormals関数や、螺旋データを生成するmlbench.spiral関数等、様々な種類の関数が用意されています。\n\nなお、mlbenchに用意されているこれらのデータ生成用の関数は、mlbench.\\[データを示す名称\\]という形式の関数名になっています。一方、mlbenchに格納されているデータセットそのものは、BostonHousingやZooのように、mlbench.がついておらず大文字から始まる名称なので、データセットとデータ生成関数は名前で区別することができます。\n\n## パッケージの使用例\n\n### データセット\n\nmlbenchには、様々なベンチマーク課題用のデータセットが用意されています。 データセットは以下のように、データセット名を指定してdata.frameとしてロードすることができます。\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(mlbench)\ndata(\"BostonHousing\", package = \"mlbench\")\nstr(BostonHousing)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t506 obs. of  14 variables:\n $ crim   : num  0.00632 0.02731 0.02729 0.03237 0.06905 ...\n $ zn     : num  18 0 0 0 0 0 12.5 12.5 12.5 12.5 ...\n $ indus  : num  2.31 7.07 7.07 2.18 2.18 2.18 7.87 7.87 7.87 7.87 ...\n $ chas   : Factor w/ 2 levels \"0\",\"1\": 1 1 1 1 1 1 1 1 1 1 ...\n $ nox    : num  0.538 0.469 0.469 0.458 0.458 0.458 0.524 0.524 0.524 0.524 ...\n $ rm     : num  6.58 6.42 7.18 7 7.15 ...\n $ age    : num  65.2 78.9 61.1 45.8 54.2 58.7 66.6 96.1 100 85.9 ...\n $ dis    : num  4.09 4.97 4.97 6.06 6.06 ...\n $ rad    : num  1 2 2 3 3 3 5 5 5 5 ...\n $ tax    : num  296 242 242 222 222 222 311 311 311 311 ...\n $ ptratio: num  15.3 17.8 17.8 18.7 18.7 18.7 15.2 15.2 15.2 15.2 ...\n $ b      : num  397 397 393 395 397 ...\n $ lstat  : num  4.98 9.14 4.03 2.94 5.33 ...\n $ medv   : num  24 21.6 34.7 33.4 36.2 28.7 22.9 27.1 16.5 18.9 ...\n```\n\n\n:::\n:::\n\n\n\n\n以下は格納されているデータセットの一覧です。(バージョン2.1.5時点です。)\\\nクラス分類用のデータや回帰用のデータ、特徴量が連続変数のデータやカテゴリ変数のデータ、クラスに偏りがあるデータなど、様々な種類の機械学習のベンチマーク課題に使用できるようなデータが格納されています。 各データのカラムやデータソース等の詳細は、mlbenchのリファレンスをご参照ください。\n\n| データセット名 | 概要 | 課題の種別 | レコード数 | カラム数 |\n|:-----------|:----------------------|:-----------|-----------:|-----------:|\n| BostonHousing | 1970年調査によるボストン506区画の住宅価格データ | 回帰 | 506 | 14 |\n| BreastCancer | 乳がんの事例に関するデータから良性／悪性に分類 | 2クラス分類 | 699 | 11 |\n| DNA | DNAのスプライス・ジャンクションの塩基配列データを、エクソン-イントロン／イントロン―エクソン／それ以外に分類 | 多クラス分類 | 3,186 | 181 |\n| Glass | 7種類のガラスに対する化学分析のデータ | 多クラス分類 | 214 | 10 |\n| HouseVotes84 | 1984年のアメリカ合衆国議会の16の投票記録から民主党／共和党を分類 | 2クラス分類 | 435 | 17 |\n| Ionosphere | 電離層のレーダー・リターンデータをgood／badに分類 | 2クラス分類 | 351 | 35 |\n| LetterRecognition | アルファベットの画像から計算された特徴量をもとにA-Zを分類 | 多クラス分類 | 20,000 | 17 |\n| Ozone | 1976年のロサンゼルスのオゾン汚染データ | 回帰 | 366 | 13 |\n| PimaIndiansDiabetes | ピマ・インディアン女性のデータから糖尿病発症あり／なしを分類 | 2クラス分類 | 768 | 9 |\n| Satellite | ランドサット衛星の衛星画像データを土壌、植生等のクラスに分類 | 多クラス分類 | 6,435 | 37 |\n| Servo | サーボシステムの応答時間の予測課題(ただし、mlbenchでは応答時間が順序尺度に変換されている) | 多クラス分類 | 167 | 5 |\n| Shuttle | スペースシャトルの飛行中の状態を7種類に分類 | 多クラス分類 | 58,000 | 10 |\n| Sonar | ソナー信号が岩石からの反射か、金属円筒からの反射かを識別 | 2クラス分類 | 208 | 61 |\n| Soybean | 19クラスのダイズの病害を分類 | 多クラス分類 | 683 | 36 |\n| Vehicle | 車のシルエットに関する特徴量から4車種に分類 | 多クラス分類 | 846 | 19 |\n| Vowel | イギリス英語の11種類の母音を分類 | 多クラス分類 | 990 | 11 |\n| Zoo | 毛の有無、羽の有無等、主に論理値の特徴量から動物の種類を分類 | 多クラス分類 | 101 | 17 |\n\n: {#tbl-1}\n\n### データ生成関数\n\nmlbenchには前項で紹介したデータセットに加え、ベンチマーク課題用のデータを自ら生成するための関数も用意されています。\n\n以下は、指定したクラス数のクラスごとに、2次元空間上で正規分布するデータを生成する、mlbench.2dnormalsの使用例です。 これらの生成関数によるデータは、R標準のS3 classという機能を用いて、as.data.frame関数とplot関数が適切に動作するように実装されています。 すなわち、List形式で返される生成データを引数として、as.data.frame関数によるデータフレームへ変換、およびplot関数による生成データの種類に応じたグラフのプロットができるようになっています。\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 乱数シードの設定\nset.seed(123)\n\n# 2次元正規分布データの生成\n## cl=2が2クラスを意味する\n## デフォルトでは原点を中心に、半径r=(cl)^(1/2)の円上に各クラスの中心を配置する\np <- mlbench.2dnormals(n=1000, cl=2, sd=1)\n\n# 生成したデータはmlbench.2dnormals classのList形式\nstr(p)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nList of 2\n $ x      : num [1:1000, 1:2] 0.3981 0.0063 2.0268 -0.2489 -0.5092 ...\n $ classes: Factor w/ 2 levels \"1\",\"2\": 1 1 1 2 1 2 2 2 1 1 ...\n - attr(*, \"class\")= chr [1:2] \"mlbench.2dnormals\" \"mlbench\"\n```\n\n\n:::\n\n```{.r .cell-code}\n# data.frameへの変換\nstr(as.data.frame(p))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n'data.frame':\t1000 obs. of  3 variables:\n $ x.1    : num  0.3981 0.0063 2.0268 -0.2489 -0.5092 ...\n $ x.2    : num  0.179 0.6927 0.0979 -0.3729 2.1204 ...\n $ classes: Factor w/ 2 levels \"1\",\"2\": 1 1 1 2 1 2 2 2 1 1 ...\n```\n\n\n:::\n\n```{.r .cell-code}\n# mlbench.2dnormals classのplot\nplot(p)\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n\n\nさらに、mlbenchの生成データに対して適用可能なベイズ識別器、bayesclass関数が用意されています。内部的には、引数として渡す生成データの種類によって、適切な識別関数の実装が呼び出されています。\n\n以下は、mlbench.2dnormalsで生成した2クラス分類用のデータ対する、bayesclass関数による分類結果をプロットしています。 mlbench.2dnormalsの生成データの場合、いずれのクラスも同分散の2次元正規分布に従うため、個々のデータは、各クラスの正規分布の中心(期待値)のうち、最も距離の近い中心を持つクラスへと分類されることになります。 そのため、上のグラフで示した真のクラスと、下図の分類結果とを比較すると、グラフ中央付近の両クラスのデータが重なる領域では、誤分類が発生していることがわかります。\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(p$x, col=as.numeric(bayesclass(p)))\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\n\n上で紹介したmlbench.2dnormals以外にも、mlbenchでは様々なデータ生成用の関数が用意されています。 以下ではいくつかの例をplotしています。 これらの例に挙げたもの以外を含む、関数の一覧や各関数の詳細については、mlbenchのリファレンスをご参照ください。\n\n##### Spiral\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(mlbench.spirals(n=200, sd=0.05))\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n\n\n##### Circle\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(mlbench.circle(n=1000))\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\n\n##### Shapes\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(mlbench.shapes(n=1000))\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n\n##### Smiley\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nplot(mlbench.smiley(n=1000))\n```\n\n::: {.cell-output-display}\n![](mlbench_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\n\n## 参考資料\n\n\\[1\\] [UC Irvine Machine Learning Repository](https://archive.ics.uci.edu/).\n",
    "supporting": [
      "mlbench_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}